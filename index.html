<!DOCTYPE html>
<html lang="en-US">
    <head lang="en-US" dir="ltr">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>PBS Evaluation</title>
        <link rel="icon" href="imgs/icons/icon_pbs.ico" />
        <link rel="stylesheet" href="styles.css" />
        <link rel="manifest" href="manifest.webmanifest" />
        </head>
    <!--meta http-equiv="Refresh" content="0; URL=file:///H:/ClinPath/site/labtools/Diff-PBS/index.html" /-->
  </head>
  <body>
    <script>
        const CACHE_NAME = `diff-pbs-v1`;

        // Use the install event to pre-cache all initial resources.
        self.addEventListener('install', event => {
        event.waitUntil((async () => {
            const cache = await caches.open(CACHE_NAME);
            cache.addAll([
            '/index.html'
            ]);
        })());
        });

        self.addEventListener('fetch', event => {
        event.respondWith((async () => {
            const cache = await caches.open(CACHE_NAME);

            // Get the resource from the cache.
            const cachedResponse = await cache.match(event.request);
            if (cachedResponse) {
            return cachedResponse;
            } else {
                try {
                // If the resource was not in the cache, try the network.
                const fetchResponse = await fetch(event.request);

                // Save the resource in the cache and return it.
                cache.put(event.request, fetchResponse.clone());
                return fetchResponse;
                } catch (e) {
                // The network failed.
                }
            }
        })());
        });
    </script>
    <script>
        if('serviceWorker' in navigator) {
          navigator.serviceWorker.register('/sw.js', { scope: '/' });
        }
    </script>
  </body>
</html>